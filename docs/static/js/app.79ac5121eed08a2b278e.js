webpackJsonp([1],{"+BTi":function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"App"}},[e("router-view")],1)},staticRenderFns:[]};var i=s("VU/8")({name:"App"},a,!1,function(t){s("SiAW")},null,null).exports,o=s("/ocq"),c=s("Dd8w"),r=s.n(c),l=s("NYxO"),u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"App"}},[s("div",{staticClass:"app-search"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.onSearch.apply(null,arguments)}}},[s("div",{staticClass:"a-s-form"},[t._m(0),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtSearch,expression:"txtSearch"}],staticClass:"txt txt-main-color",attrs:{type:"search",placeholder:"Search Channel",required:""},domProps:{value:t.txtSearch},on:{input:function(e){e.target.composing||(t.txtSearch=e.target.value)}}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-sekunder-color btn-no-border",attrs:{type:"submit"}},[e("i",{staticClass:"fa fa-lg fa-search"})])}]},m=s("VU/8")({name:"App",data:function(){return{txtSearch:""}},methods:{onSearch:function(){this.$emit("onSearch",this.txtSearch)}}},u,!1,null,null,null).exports,d={name:"App",data:function(){return{visiblePopup:!1}},mounted:function(){},computed:r()({},Object(l.c)({formChannel:function(t){return t.channel.formChannel},sessionUser:function(t){return t.channel.sessionUser}}),{isThereSessionUser:function(){return this.sessionUser}}),methods:r()({},Object(l.b)({setData:"channel/setData",resetFormChannel:"channel/resetFormChannel"}),{openPopup:function(){this.visiblePopup=!this.visiblePopup},addChannel:function(){var t=r()({},this.formChannel,{id:this.$socket.id,status:"read"});this.$socket.emit("addChannel",t),this.resetFormChannel(),this.visiblePopup=!1}}),sockets:{channelList:function(t){this.setData(t)}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"App"}},[t.isThereSessionUser?s("div",{staticClass:"app-add-person"},[s("button",{staticClass:"btn btn-main-color btn-width-all",on:{click:t.openPopup}},[s("i",{staticClass:"fa fa-lw fa-plus"}),t._v(" Add New Channel\n\t\t\t")])]):t._e(),t._v(" "),t.visiblePopup?s("div",{staticClass:"card-popup"},[s("div",{staticClass:"card-popup-position"},[s("el-card",{staticClass:"width width-400px"},[s("div",{staticClass:"card-popup-header"},[s("span",[t._v("Add New Channel")]),t._v(" "),s("button",{staticClass:"btn btn-icon btn-circle btn-grey2-color",on:{click:t.openPopup}},[s("i",{staticClass:"fa fa-lg fa-times"})])]),t._v(" "),s("div",{staticClass:"card-popup-content"},[s("el-form",{ref:"form",attrs:{model:t.formChannel}},[s("el-form-item",{attrs:{label:"Name"}},[s("el-input",{model:{value:t.formChannel.name,callback:function(e){t.$set(t.formChannel,"name",e)},expression:"formChannel.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"Url Foto"}},[s("el-input",{model:{value:t.formChannel.foto,callback:function(e){t.$set(t.formChannel,"foto",e)},expression:"formChannel.foto"}})],1)],1),t._v(" "),s("button",{staticClass:"btn btn-main-color btn-width-all",on:{click:t.addChannel}},[s("i",{staticClass:"fa fa-lw fa-plus"}),t._v(" Submit\n                        ")])],1)])],1)]):t._e()])},staticRenderFns:[]},f=s("VU/8")(d,h,!1,null,null,null).exports,p={name:"App",data:function(){return{visiblePopup:!1}},mounted:function(){},computed:r()({},Object(l.c)({formUser:function(t){return t.channel.formUser},sessionUser:function(t){return t.channel.sessionUser}}),{isThereSessionUser:function(){return this.sessionUser}}),methods:r()({},Object(l.b)({setDataUser:"channel/setDataUser",setSessionUser:"channel/setSessionUser",resetFormUser:"channel/resetFormUser"}),{openPopup:function(){this.visiblePopup=!this.visiblePopup},addUser:function(){var t=r()({},this.formUser,{id:this.$socket.id,status:"read"});this.$socket.emit("addUser",t),this.setSessionUser(t),this.resetFormUser(),this.visiblePopup=!1}}),sockets:{userList:function(t){this.setDataUser(t)}}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"App"}},[t.isThereSessionUser?t._e():s("div",[s("button",{staticClass:"btn btn-main-color btn-width-all",on:{click:t.openPopup}},[s("i",{staticClass:"fa fa-lw fa-plus"}),t._v(" Add New User\n\t\t\t")])]),t._v(" "),t.visiblePopup?s("div",{staticClass:"card-popup"},[s("div",{staticClass:"card-popup-position"},[s("el-card",{staticClass:"width width-400px"},[s("div",{staticClass:"card-popup-header"},[s("span",[t._v("Add New User")]),t._v(" "),s("button",{staticClass:"btn btn-icon btn-circle btn-grey2-color",on:{click:t.openPopup}},[s("i",{staticClass:"fa fa-lg fa-times"})])]),t._v(" "),s("div",{staticClass:"card-popup-content"},[s("el-form",{ref:"form",attrs:{model:t.formUser}},[s("el-form-item",{attrs:{label:"Name"}},[s("el-input",{model:{value:t.formUser.name,callback:function(e){t.$set(t.formUser,"name",e)},expression:"formUser.name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"Url Foto"}},[s("el-input",{model:{value:t.formUser.foto,callback:function(e){t.$set(t.formUser,"foto",e)},expression:"formUser.foto"}})],1)],1),t._v(" "),s("button",{staticClass:"btn btn-main-color btn-width-all",on:{click:t.addUser}},[s("i",{staticClass:"fa fa-lw fa-plus"}),t._v(" Submit\n                        ")])],1)])],1)]):t._e()])},staticRenderFns:[]},C=s("VU/8")(p,v,!1,null,null,null).exports,_={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-empty-message",staticStyle:{height:"auto",padding:"30px 0"},attrs:{id:"App"}},[e("div",{staticClass:"app-empty-message-container"},[e("div",{staticClass:"txt-site txt-micro txt-init fa fa-3x fa-comments",staticStyle:{"margin-bottom":"30px"}}),this._v(" "),e("div",{staticClass:"txt-site txt-micro txt-bold txt-main"},[this._v("\n            LIST CHANNEL EMPTY\n        ")]),this._v(" "),e("div",{staticClass:"txt-site txt-11 txt-main"},[this._v("\n            Please Add New Channel\n        ")])])])}]},b={name:"App",components:{EmptyListChannel:s("VU/8")({name:"App"},_,!1,null,null,null).exports},computed:r()({},Object(l.c)({channels:function(t){return t.channel.channels},messages:function(t){return t.channel.messages},sessionUser:function(t){return t.channel.sessionUser},sessionChannel:function(t){return t.channel.sessionChannel}})),methods:r()({},Object(l.b)({setData:"channel/setData",setDataMessage:"channel/setDataMessage",setSessionChannel:"channel/setSessionChannel"}),{selectChannel:function(t){this.setSessionChannel(t),this.messageList(t.id),this.channelList()},isChannelSelected:function(t){return this.sessionChannel&&this.sessionChannel.id===t.id},getFirstMessage:function(t){return t&&t.message&&t.message[0]},messageList:function(t){this.$socket.emit("messageList",t)},channelList:function(){this.$socket.emit("channelList")}}),sockets:{messageList:function(t){this.setDataMessage(t)},channelList:function(t){this.setData(t)}}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"App"}},[0===t.channels.length?s("EmptyListChannel"):t._e(),t._v(" "),t._l(t.channels,function(e,n){return s("div",{key:n},[s("div",{class:"card-chat "+(t.isChannelSelected(e)&&"active")+" "+e.status,staticStyle:{cursor:"pointer"},on:{click:function(s){return t.selectChannel(e)}}},[s("div",{staticClass:"c-c-col-1"},[s("div",{staticClass:"image image-50px image-circle",style:{"background-image":"url("+e.foto+")"}},[e.foto?t._e():s("i",{staticClass:"icn icn-big fa fa-lw fa-comments"})])]),t._v(" "),s("div",{staticClass:"c-c-col-2"},[s("div",{staticClass:"c-c-mid"},[s("div",{staticClass:"c-c-info"},[s("div",{staticClass:"txt-site txt-11 txt-bold txt-main"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t")]),t._v(" "),t.getFirstMessage(e)?s("div",[s("div",{staticClass:"txt-site txt-10 txt-main txt-overflow-ellipsis"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.getFirstMessage(e).fromName)+" - "+t._s(t.getFirstMessage(e).body)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"txt-site txt-9 txt-sekunder"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t._f("moment")(t.getFirstMessage(e).date,"from","now"))+"\n\t\t\t\t\t\t\t\t")])]):t._e()]),t._v(" "),e.message.length?s("div",{staticClass:"c-c-status"},[s("div",{staticClass:"ttl"},[t._v(t._s(e.message.length))])]):t._e()])])])])})],2)},staticRenderFns:[]},x=s("VU/8")(b,g,!1,null,null,null).exports,U={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-empty-message",attrs:{id:"App"}},[e("div",{staticClass:"app-empty-message-container"},[e("div",{staticClass:"txt-site txt-big txt-init fa fa-3x fa-envelope",staticStyle:{"margin-bottom":"30px"}}),this._v(" "),e("div",{staticClass:"txt-site txt-title txt-bold txt-main"},[this._v("\n            WELCOME TO THE CHAT ROOM\n        ")]),this._v(" "),e("div",{staticClass:"txt-site txt-11 txt-main"},[this._v("\n            Select One Channel in List or Add New User\n        ")])])])}]},y=s("VU/8")({name:"App"},U,!1,null,null,null).exports,k=s("kFye"),S={name:"App",mounted:function(){},data:function(){return{txtChat:""}},computed:r()({},Object(l.c)({formMessage:function(t){return t.channel.formMessage},messages:function(t){return t.channel.messages},sessionChannel:function(t){return t.channel.sessionChannel},sessionUser:function(t){return t.channel.sessionUser}}),{isThereSessionUser:function(){return this.sessionUser}}),methods:r()({},Object(l.b)({setData:"channel/setData",setDataMessage:"channel/setDataMessage"}),{isMyMessage:function(t){var e=!1;return this.sessionUser&&t.from===this.sessionUser.id&&(e=!0),e},likeThisChat:function(t){var e={id:t.from,message:this.sessionUser.name+' reacted to your message "'+t.body+'"'};this.$socket.emit("notification",e),this.$message("Your reacted to this message !")},addMessage:function(){var t=r()({},this.formMessage,{id:Object(k.a)(),from:this.sessionUser.id,fromName:this.sessionUser.name,to:this.sessionChannel.id,toName:this.sessionChannel.name,foto:this.sessionChannel.foto,date:new Date,body:this.txtChat});this.$socket.emit("addMessage",t),this.txtChat=""}}),sockets:{messageList:function(t){this.setDataMessage(t)},channelList:function(t){this.setData(t)}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"App"}},[s("div",{staticClass:"app-background-chat"},t._l(t.messages,function(e,n){return s("div",{key:n},[t.isMyMessage(e)?s("div",[s("div",{staticClass:"card-message c-m-right"},[s("div",{staticClass:"c-m-content"},[s("div",{staticClass:"c-m-top"},[s("div",{staticClass:"c-m-name"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t.sessionUser.name)+" (You)\n\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"c-m-date"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(t._f("moment")(e.date,"from","now"))+"\n\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"c-m-mid"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.body)+"\n\t\t\t\t\t\t\t")])])])]):s("div",[s("div",{staticClass:"card-message c-m-left"},[s("div",{staticClass:"c-m-col-1"},[s("div",{staticClass:"image image-45px image-circle",style:{"background-image":"url("+e.foto+")"}},[e.foto?t._e():s("i",{staticClass:"icn icn-big fa fa-lw fa-user"})])]),t._v(" "),s("div",{staticClass:"c-m-col-2"},[s("div",{staticClass:"c-m-content"},[s("div",{staticClass:"c-m-top"},[s("div",{staticClass:"c-m-name"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(e.fromName)+"\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"c-m-date"},[t._v("\n\t\t\t\t\t\t\t\t\t\t"+t._s(t._f("moment")(e.date,"from","now"))+"\n\t\t\t\t\t\t\t\t\t")])]),t._v(" "),s("div",{staticClass:"c-m-mid"},[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.body)+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"c-m-mid",staticStyle:{"padding-top":"0",display:"flex","justify-content":"flex-end"}},[s("button",{staticClass:"btn btn-grey2-color btn-icon btn-circle",on:{click:function(s){return t.likeThisChat(e)}}},[s("i",{staticClass:"fa fa-lw fa-thumbs-up"})])])])])])])])}),0),t._v(" "),s("div",{staticClass:"app-chat"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.addMessage()}}},[t.isThereSessionUser?s("div",{staticClass:"a-c-form"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtChat,expression:"txtChat"}],staticClass:"txt txt-main-color",attrs:{type:"text",placeholder:"Write message...",required:""},domProps:{value:t.txtChat},on:{input:function(e){e.target.composing||(t.txtChat=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn btn-post-color btn-circle",attrs:{type:"submit",disabled:!t.txtChat}},[s("i",{staticClass:"fa fa-lg fa-paper-plane"})])]):t._e()])])])},staticRenderFns:[]},$={name:"app",data:function(){return{}},mounted:function(){this.channelList()},components:{SearchField:m,AddUser:C,AddChannel:f,ListChannel:x,EmptyMessage:y,ContainerMessage:s("VU/8")(S,w,!1,null,null,null).exports},computed:r()({},Object(l.c)({sessionChannel:function(t){return t.channel.sessionChannel},sessionUser:function(t){return t.channel.sessionUser}}),{isTherePersonFoto:function(){return this.sessionUser&&this.sessionUser.foto}}),methods:r()({},Object(l.b)({setData:"channel/setData"}),{onSearch:function(t){console.log("onSearch",t)},channelList:function(){this.$socket.emit("channelList")}}),sockets:{connect:function(){this.isConnected=!0,this.$message("Connected to Server !"),this.channelList()},disconnect:function(){this.isConnected=!1,this.$message.error("Disconnected from Server !")},channelList:function(t){this.setData(t)},notification:function(t){this.$notify({title:"Notification",message:t,duration:0})}}},A={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"app a-col"},[s("div",{staticClass:"a-col-1"},[s("div",{staticClass:"app-top no-border"},[s("div",{staticClass:"a-t-btn"},[s("center",[s("div",{staticClass:"image image-35px image-circle",style:{"background-image":"url("+t.isTherePersonFoto+")"}},[t.isTherePersonFoto?t._e():s("i",{staticClass:"icn icn-big fa fa-lw fa-user"})])])],1)]),t._v(" "),s("div",{staticClass:"app-content"},[s("router-link",{attrs:{to:{name:"main"}}},[s("center",[s("button",{staticClass:"btn btn-main-color btn-circle-small"},[s("i",{staticClass:"fa fa-lg fa-envelope"})]),t._v(" "),s("span",{staticClass:"txt-site txt-white txt-8 txt-center"},[t._v("\n                            Home\n                        ")])])],1)],1)]),t._v(" "),s("div",{staticClass:"a-col-2"},[t._m(0),t._v(" "),s("div",{staticClass:"app-list-chat"},[s("SearchField",{on:{onSearch:t.onSearch}}),t._v(" "),s("AddChannel"),t._v(" "),s("ListChannel")],1)]),t._v(" "),s("div",{staticClass:"a-col-3"},[s("div",{staticClass:"app-top"},[s("div",{staticClass:"a-t-title"},[s("div",{staticStyle:{display:"flex","flex-direction":"row","align-items":"center","justify-content":"flex-start"}},[s("div",{staticClass:"image image-35px image-circle",style:{"background-image":"url("+t.isTherePersonFoto+")","margin-right":"10px"}},[t.isTherePersonFoto?t._e():s("i",{staticClass:"icn icn-big fa fa-lw fa-user"})]),t._v("\n                        "+t._s(t.sessionUser?t.sessionUser.name:"No User")+"\n                    ")]),t._v(" "),s("div",[s("AddUser")],1)])]),t._v(" "),s("div",[t.sessionChannel?s("ContainerMessage"):s("EmptyMessage")],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app-top"},[e("div",{staticClass:"a-t-title"},[this._v("\n                    Inbox\n                ")])])}]},M=s("VU/8")($,A,!1,null,null,null).exports;n.default.use(o.a);var F=new o.a({routes:[{path:"/",name:"main",component:M}]}),L={namespaced:!0,state:{formUser:{id:"",name:"",foto:""},formChannel:{id:"",name:"",status:"",foto:"",message:[]},formMessage:{id:"",name:"",foto:"",date:"",type:"",body:""},sessionUser:null,sessionChannel:null,channels:[],messages:[],users:[]},getters:{},mutations:{},actions:{resetFormUser:function(t){t.commit;t.state.formUser={id:"",name:"",foto:""}},resetFormChannel:function(t){t.commit;t.state.formChannel={id:"",name:"",status:"",foto:"",message:[]}},resetFormMessage:function(t){t.commit;t.state.formMessage={id:"",name:"",foto:"",date:"",type:"",body:""}},resetData:function(t){t.commit;var e=t.state;e.channels=[],e.messages=[],e.sessionChannel=null},setSessionUser:function(t,e){t.commit;t.state.sessionUser=e},setData:function(t,e){t.commit;t.state.channels=e},setDataMessage:function(t,e){t.commit;t.state.messages=e},setDataUser:function(t,e){t.commit;t.state.users=e},setSessionChannel:function(t,e){t.commit;t.state.sessionChannel=e}}};n.default.use(l.a);var D=new l.a.Store({modules:{channel:L}}),P=s("18Sv"),E=s.n(P),N=s("rNNc"),T=s("HI0L"),O=s.n(T),j=s("EaLy"),R=s("8AgW"),V=s.n(R),H=s("zL8q"),W=s.n(H);s("tvR6"),s("+BTi"),s("sfy8");n.default.config.productionTip=!1,n.default.use(E.a),n.default.use(l.a),n.default.use(V.a),n.default.use(N.a),n.default.use(new O.a({debug:!0,connection:Object(j.a)("https://websocket-chat-app-v1.herokuapp.com/")})),n.default.use(W.a),n.default.prototype.$titleMessage="Message",new n.default({el:"#app",router:F,store:D,components:{App:i},template:"<App/>"})},SiAW:function(t,e){},gxDI:function(t,e,s){"use strict";function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}e.a=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var s,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var a=0;a<n.length;a++)if((s=n[a])===e||s.fn===e){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){n=0;for(var a=(s=s.slice(0)).length;n<a;++n)s[n].apply(this,e)}return this},n.prototype.emitReserved=n.prototype.emit,n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},sfy8:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.79ac5121eed08a2b278e.js.map